import socket
import sys

try:
    host = sys.argv[1]
    ports = int(sys.argv[2])
except:
    print("usage: python3 port_scan.py host rang_final (at√© qual porta vai ser feito o scan? limite: 65535)")
    sys.exit()

for porta in range(ports):

    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.settimeout(0.05)
    code = client.connect_ex((host, porta))
    if code == 0:
        print("[+] {} open".format(porta))
    else:
        pass
