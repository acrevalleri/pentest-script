import dns.resolver
import sys

resolver = dns.resolver.Resolver()
try:
    alvo = sys.argv[1]
    wordlist = sys.argv[2]
except:
    print("usage: python3 [nome do arquivo] [dominio] [wordlist.txt]")

    sys.exit()

try:
    with open(wordlist, "r") as arq:
        subdominio = arq.read().splitlines()
except:
    print("erro ao abrir o arquivo")
    sys.exit()

for subdominios in subdominio:
    try:
        sub_alvo = "{} . {}".format(subdominio, alvo)
        resultado = resolver.resolve(sub_alvo, "A")
        for resultados in resultado:
            print("{} -> {}".format(sub_alvo, resultado))
    except:
        pass
